<button class="flex items-center gap-2 border border-gray-600 md:ml-4 px-2 md:px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 hover:bg-gray-100 hover:text-gray-600 cursor-pointer" type="button" commandfor="delete-item-dialog" command="show-modal">
  <%= render_svg("share.svg", styles: "w-5 h-5") %>
  <span class="hidden md:inline">Compartir Tienda</span>
</button>

<dialog id="delete-item-dialog" closedby="any" role="alertdialog" aria-labelledby="dialog-title" aria-describedby="dialog-desc" class="m-auto p-0 rounded-2xl shadow-2xl backdrop:bg-black/40 open:animate-in open:fade-in open:zoom-in-95 backdrop:open:animate-in backdrop:open:fade-in duration-200">

  <header class="flex items-center justify-between p-4 sm:p-6 border-b border-gray-100">
    <div>
      <h2 class="text-lg sm:text-xl font-bold text-gray-900">Compartir Tienda</h2>
      <p class="text-xs sm:text-sm text-gray-500 mt-1">Tu tienda está lista para recibir visitas.</p>
    </div>
    <button type="button" commandfor="delete-item-dialog" command="close" class="p-2 -mr-2 text-gray-400 hover:text-gray-500 rounded-full hover:bg-gray-100 transition-colors">
      <%= render_svg("close.svg") %>
    </button>
  </header>

  <div class="p-4 sm:p-6 space-y-6 sm:space-y-8">
    <!-- Main Link Section -->
    <main class="bg-gray-50 rounded-xl p-3 sm:p-4 border border-gray-100" data-controller="clipboard">
      <label class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 block">Link público</label>
      <div class="flex items-center gap-2">
        <input type="text" readonly value="<%= request.base_url %>/store/<%= current_user.store.slug %>" 
               class="flex-1 bg-white border border-gray-200 rounded-lg px-3 py-2 text-gray-600 text-xs sm:text-sm truncate font-medium select-all focus:outline-none focus:ring-2 focus:ring-blue-500/20 shadow-sm"
               data-clipboard-target="source">
        <button type="button" data-action="clipboard#copy" class="sm:p-2.5 rounded-lg hover:bg-gray-200 transition-all shadow-sm">
          <div data-clipboard-target="icon" class="transition-all duration-300">
            <%= render_svg("clipboard.svg") %>
          </div>
        </button>
      </div>
      <span data-clipboard-target="successIcon" class="text-green-400 text-xs hidden">¡Enlace copiado!</span>
    </main>

    <!-- Social section -->
    <div>
      <div class="flex items-center gap-4 mb-4">
        <div class="h-px bg-gray-200 flex-1"></div>
        <span class="text-xs font-medium text-gray-400 whitespace-nowrap">Compartir en redes</span>
        <div class="h-px bg-gray-200 flex-1"></div>
      </div>
      
      <div class="grid grid-cols-3 gap-2 sm:gap-4">
        <%= link_to "https://www.facebook.com/", target: "_blank", class: "flex flex-col items-center gap-2 group p-2 rounded-xl hover:bg-gray-50 transition-colors" do %>
          <div class="w-10 h-10 sm:w-12 sm:h-12 bg-[#1877F2]/10 rounded-full flex items-center justify-center group-hover:bg-[#1877F2]/20 transition-colors">
            <%= render_svg("facebook.svg", styles: "w-5 h-5 sm:w-6 sm:h-6 text-[#1877F2]") %>
          </div>
          <span class="text-[10px] sm:text-xs font-medium text-gray-600">Facebook</span>
        <% end %>
        
        <%= link_to "https://www.instagram.com/", target: "_blank", class: "flex flex-col items-center gap-2 group p-2 rounded-xl hover:bg-gray-50 transition-colors" do %>
          <div class="w-10 h-10 sm:w-12 sm:h-12 bg-[#E4405F]/10 rounded-full flex items-center justify-center group-hover:bg-[#E4405F]/20 transition-colors">
            <%= render_svg("instagram.svg", styles: "w-5 h-5 sm:w-6 sm:h-6 text-[#E4405F]") %>
          </div>
          <span class="text-[10px] sm:text-xs font-medium text-gray-600">Instagram</span>
        <% end %>
        
        <%= link_to "https://web.whatsapp.com/", target: "_blank", class: "flex flex-col items-center gap-2 group p-2 rounded-xl hover:bg-gray-50 transition-colors" do %>
          <div class="w-10 h-10 sm:w-12 sm:h-12 bg-[#25D366]/10 rounded-full flex items-center justify-center group-hover:bg-[#25D366]/20 transition-colors">
            <%= render_svg("whatsapp.svg", styles: "w-5 h-5 sm:w-6 sm:h-6 text-[#25D366]") %>
          </div>
          <span class="text-[10px] sm:text-xs font-medium text-gray-600">WhatsApp</span>
        <% end %>
      </div>
    </div>
  </div>
</dialog>
